<!DOCTYPE HTML>
<html lang="en" class="light" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>CountByAsync &amp; CountBy - Buzruk.GenericRepository</title>


        <!-- Custom HTML head -->
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->

    </head>
    <body class="sidebar-visible no-js">
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('light')
            html.classList.add(theme);
            var body = document.querySelector('body');
            body.classList.remove('no-js')
            body.classList.add('js');
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var body = document.querySelector('body');
            var sidebar = null;
            var sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            body.classList.remove('sidebar-visible');
            body.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="Home.html"><strong aria-hidden="true">1.</strong> Welcome Aboard!</a></li><li class="chapter-item expanded "><a href="Installation.html"><strong aria-hidden="true">2.</strong> Installation Blastoff!</a></li><li class="chapter-item expanded affix "><li class="part-title">⚡️ Core Functionalities</li><li class="chapter-item expanded "><a href="Usage-examples.html"><strong aria-hidden="true">3.</strong> Code Examples Galore!</a></li><li class="chapter-item expanded "><div><strong aria-hidden="true">4.</strong> CRUD</div></li><li><ol class="section"><li class="chapter-item expanded "><a href="GetAsync-and-Get.html"><strong aria-hidden="true">4.1.</strong> GetAsync & Get</a></li><li class="chapter-item expanded "><a href="GetPagedAsync-and-GetPaged.html"><strong aria-hidden="true">4.2.</strong> GetPagedAsync & GetPaged</a></li><li class="chapter-item expanded "><a href="AddAsync-and-Add.html"><strong aria-hidden="true">4.3.</strong> AddAsync & Add</a></li><li class="chapter-item expanded "><a href="AddRangeAsync-and-AddRange.html"><strong aria-hidden="true">4.4.</strong> AddRangeAsync & AddRange</a></li><li class="chapter-item expanded "><a href="UpdateAsync-and-Update.html"><strong aria-hidden="true">4.5.</strong> UpdateAsync & Update</a></li><li class="chapter-item expanded "><a href="updateRangeAsync-and-UpdateRange.html"><strong aria-hidden="true">4.6.</strong> UpdateRangeAsync & UpdateRange</a></li><li class="chapter-item expanded "><a href="RemoveAsync-and-Remove.html"><strong aria-hidden="true">4.7.</strong> RemoveAsync & Remove</a></li><li class="chapter-item expanded "><a href="RemoveRangeAsync-and-RemoveRange.html"><strong aria-hidden="true">4.8.</strong> RemoveRangeAsync & RemoveRange</a></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">5.</strong> Other Methods</div></li><li><ol class="section"><li class="chapter-item expanded "><a href="ExistsAsync-and-Exists.html"><strong aria-hidden="true">5.1.</strong> ExistsAsync & Exists</a></li><li class="chapter-item expanded "><a href="CountAsync-and-Count.html"><strong aria-hidden="true">5.2.</strong> CountAsync & Count</a></li><li class="chapter-item expanded "><a href="LongCountAsync-and-LongCount.html"><strong aria-hidden="true">5.3.</strong> LongCountAsync & LongCount</a></li><li class="chapter-item expanded "><a href="CountByAsync-and-CountBy.html" class="active"><strong aria-hidden="true">5.4.</strong> CountByAsync & CountBy</a></li><li class="chapter-item expanded "><a href="saveChangesAsync-and-SaveChanges.html"><strong aria-hidden="true">5.5.</strong> SaveChangesAsync & SaveChanges</a></li></ol></li><li class="chapter-item expanded "><li class="part-title">Support & Community</li><li class="chapter-item expanded "><a href="Faq.html"><strong aria-hidden="true">6.</strong> FAQ: Your Questions Answered</a></li><li class="chapter-item expanded "><a href="Troubleshooting.html"><strong aria-hidden="true">7.</strong> Troubleshooting Like a Pro</a></li><li class="chapter-item expanded "><a href="CONTRIBUTING.html"><strong aria-hidden="true">8.</strong> Contribute & Make an Impact!</a></li><li class="chapter-item expanded affix "><li class="part-title">Additional Resources</li><li class="chapter-item expanded "><a href="CHANGELOG.html"><strong aria-hidden="true">9.</strong> CHANGELOG.md: Stay Updated</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <!-- Track and set sidebar scroll position -->
        <script>
            var sidebarScrollbox = document.querySelector('#sidebar .sidebar-scrollbox');
            sidebarScrollbox.addEventListener('click', function(e) {
                if (e.target.tagName === 'A') {
                    sessionStorage.setItem('sidebar-scroll', sidebarScrollbox.scrollTop);
                }
            }, { passive: true });
            var sidebarScrollTop = sessionStorage.getItem('sidebar-scroll');
            sessionStorage.removeItem('sidebar-scroll');
            if (sidebarScrollTop) {
                // preserve sidebar scroll position when navigating via links within sidebar
                sidebarScrollbox.scrollTop = sidebarScrollTop;
            } else {
                // scroll sidebar to current active section when navigating via "next/previous chapter" buttons
                var activeSection = document.querySelector('#sidebar .active');
                if (activeSection) {
                    activeSection.scrollIntoView({ block: 'center' });
                }
            }
        </script>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Buzruk.GenericRepository</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="i-counting-with-clarity-unveiling-entity-distribution-countbyasync--countby"><a class="header" href="#i-counting-with-clarity-unveiling-entity-distribution-countbyasync--countby">I. Counting with Clarity: Unveiling Entity Distribution (<code>CountByAsync</code> &amp; <code>CountBy</code>)</a></h1>
<p>In the realm of data exploration, understanding entity distribution is key. CountByAsync and CountBy emerge as valiant warriors, empowering you to efficiently count entities grouped by a specific property.</p>
<ul>
<li>
<p><strong>CountByAsync</strong>: The responsive champion, operating asynchronously to keep your user interface (UI) fluid while fetching grouped entity counts. It excels in user interactions or situations where immediate results are less critical than maintaining user experience.</p>
</li>
<li>
<p><strong>CountBy</strong>: The swift warrior, completing the grouped count synchronously. It shines in background tasks or scenarios where immediate confirmation of the distribution is paramount.</p>
</li>
</ul>
<h2 id="ii-wielding-the-grouped-count-code-examples"><a class="header" href="#ii-wielding-the-grouped-count-code-examples">II. Wielding the Grouped Count (Code Examples)</a></h2>
<p>Ready to unleash the power of grouped counting? Here's how to command CountByAsync and CountBy in your code:</p>
<p><strong>Asynchronous Approach (CountByAsync):</strong></p>
<pre><code class="language-csharp">// Assuming you have an instance of your repository (`repository`)

Task&lt;IDictionary&lt;string, int&gt;&gt; productCountByCategoryTask = repository.CountByAsync&lt;Product&gt;(p =&gt; p.Category);
IDictionary&lt;string, int&gt; productCountByCategory = await productCountByCategoryTask;

Console.WriteLine(&quot;Product count by category:&quot;);
foreach (var kvp in productCountByCategory)
{
  Console.WriteLine($&quot;- {kvp.Key}: {kvp.Value}&quot;);
}
</code></pre>
<p><strong>Synchronous Approach (CountBy):</strong></p>
<pre><code class="language-csharp">IDictionary&lt;string, int&gt; productCountByCategory = repository.CountBy&lt;Product&gt;(p =&gt; p.Category);

Console.WriteLine(&quot;Product count by category:&quot;);
foreach (var kvp in productCountByCategory)
{
  Console.WriteLine($&quot;- {kvp.Key}: {kvp.Value}&quot;);
}
</code></pre>
<h2 id="iii-modern-considerations-counting-with-finesse"><a class="header" href="#iii-modern-considerations-counting-with-finesse">III. Modern Considerations: Counting with Finesse</a></h2>
<ul>
<li><strong>Asynchronous First</strong>: In modern interactive applications, <code>CountByAsync</code> is generally preferred due to its responsiveness benefits. Prioritize it for a smooth user experience.</li>
<li><strong>Grouping Expression</strong>: Both methods accept lambda expressions to specify the property by which entities should be grouped. Tailor the expression to group by the desired property (e.g., <code>p =&gt; p.Category, p =&gt; p.PriceRange</code>).</li>
<li><strong>Performance Optimization</strong>: For very large datasets, consider server-side aggregation capabilities provided by your ORM to optimize performance.</li>
<li><strong>Empty Collections</strong>: Ensure your code handles empty collections or groups with zero entities gracefully to avoid potential issues.</li>
</ul>
<h2 id="iv-advanced-strategies-beyond-the-basics"><a class="header" href="#iv-advanced-strategies-beyond-the-basics">IV. Advanced Strategies: Beyond the Basics</a></h2>
<ul>
<li><strong>Alternative Approaches</strong>: Explore server-side aggregation pipelines or reporting tools for complex grouping and calculations on massive datasets.</li>
</ul>
<h2 id="v-remember-young-data-warrior"><a class="header" href="#v-remember-young-data-warrior">V. Remember, Young Data Warrior</a></h2>
<ul>
<li>Use <code>CountByAsync</code> for responsiveness, <code>CountBy</code> for immediate confirmation.</li>
<li>Leverage asynchronous programming for a modern touch.</li>
<li>Define clear grouping expressions with lambda expressions.</li>
<li>Consider server-side aggregation for very large datasets.</li>
<li>Handle empty collections and groups with zero entities gracefully.</li>
<li>Unit test your counting methods for accuracy and robustness.</li>
</ul>
<p>By mastering these methods, you can effectively analyze entity distribution in your modern applications, gaining valuable insights into your data and optimizing user experience.</p>
<h2 id="bonus-focus-on-asynchronous-workflows"><a class="header" href="#bonus-focus-on-asynchronous-workflows">Bonus: Focus on Asynchronous Workflows</a></h2>
<p>In modern development, asynchronous programming is crucial. Here's an example emphasizing asynchronous workflows:</p>
<pre><code class="language-csharp">async Task AnalyzeProductDistributionAsync()
{
  try
  {
    IDictionary&lt;string, int&gt; productCountByCategory = await repository.CountByAsync&lt;Product&gt;(p =&gt; p.Category);
    // Process and display the grouped counts
  }
  catch (Exception ex)
  {
    Console.WriteLine($&quot;Error occurred while counting products by category: {ex.Message}&quot;);
    // Implement appropriate error handling logic (e.g., logging, retries)
  }
}
</code></pre>
<p><strong>Remember, asynchronous programming patterns ensure your application remains responsive while fetching grouped entity counts, enhancing the overall user experience.</strong></p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="LongCountAsync-and-LongCount.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="saveChangesAsync-and-SaveChanges.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="LongCountAsync-and-LongCount.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="saveChangesAsync-and-SaveChanges.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js"></script>
        <script src="mark.min.js"></script>
        <script src="searcher.js"></script>

        <script src="clipboard.min.js"></script>
        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS scripts -->


    </div>
    </body>
</html>
